{"version":3,"sources":["webpack:///./src/views/home/index.vue?fc62","webpack:///./src/views/home/index.vue?a9e5","webpack:///src/views/home/index.vue","webpack:///./src/views/home/index.vue?fcbb","webpack:///./src/views/home/index.vue","webpack:///./src/api/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","active","expression","on","$event","popupShow","slot","_l","item","key","id","name","style","height","channels","staticRenderFns","data","methods","created","getUserChannels","component","login","request","url","method","getSmsCode","mobile","getUserinfo","getChannels","getUserProfile","updateUserProfile","updateUserPhoto"],"mappings":"2IAAA,yBAA2jB,EAAG,G,2CCA9jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,MAAMH,EAAG,WAAW,CAACI,MAAM,CAACC,MAAOT,EAAU,OAAEU,SAAS,SAAUC,GAAMX,EAAIY,OAAOD,GAAKE,WAAW,WAAW,CAACT,EAAG,WAAW,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,YAAY,KAAO,WAAWO,GAAG,CAAC,MAAQ,SAASC,GAAQf,EAAIgB,WAAY,IAAOC,KAAK,cAAcjB,EAAIkB,GAAIlB,EAAY,UAAE,SAASmB,GAAM,OAAOf,EAAG,UAAU,CAACgB,IAAID,EAAKE,GAAGd,MAAM,CAAC,MAAQY,EAAKG,OAAO,CAAClB,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUY,MAAS,OAAM,GAAGf,EAAG,YAAY,CAACmB,MAAM,CAAGC,OAAQ,OAASjB,MAAM,CAAC,SAAW,SAAS,UAAY,GAAG,MAAQ,IAAIC,MAAM,CAACC,MAAOT,EAAa,UAAEU,SAAS,SAAUC,GAAMX,EAAIgB,UAAUL,GAAKE,WAAW,cAAc,CAACT,EAAG,eAAe,CAACG,MAAM,CAAC,WAAaP,EAAIyB,UAAUX,GAAG,CAAC,MAAQ,SAASC,GAAQf,EAAIgB,WAAY,IAAQR,MAAM,CAACC,MAAOT,EAAU,OAAEU,SAAS,SAAUC,GAAMX,EAAIY,OAAOD,GAAKE,WAAW,aAAa,IAAI,IACp9Ba,EAAkB,G,gDC6CtB,GACEJ,KAAM,WACNK,KAFF,WAGI,MAAO,CACLf,OAAQ,EACRa,SAAU,GACVT,WAAW,IAGfY,QAAS,CACP,gBADJ,WACA,qKACA,mCAEA,EAHA,gBAIA,aAJA,gDAOA,iBAPA,gBAOA,EAPA,EAOA,KACA,2BARA,mHAeEC,QAzBF,WA0BI5B,KAAK6B,oBCxEqV,I,wBCQ1VC,EAAY,eACd,EACAhC,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAK,E,2CCnBf,8PAaaC,EAAQ,SAAAL,GAAI,OAAIM,eAAQ,CACnCC,IAAK,2BACLC,OAAQ,OACRR,UAGWS,EAAa,SAAAC,GACxB,OAAOJ,eAAQ,CACbE,OAAQ,MACRD,IAAK,uBAAF,OAAyBG,MAInBC,EAAc,kBAAML,eAAQ,CAAEC,IAAK,oBAGnCK,EAAc,kBAAMN,eAAQ,CAAEC,IAAK,6BAGnCM,EAAiB,kBAAMP,eAAQ,CAAEC,IAAK,4BAGtCO,EAAoB,SAAAd,GAAI,OAAIM,eAAQ,CAC/CE,OAAQ,QACRD,IAAK,yBACLP,UAGWe,EAAkB,SAAAf,GAAI,OAAIM,eAAQ,CAC7CE,OAAQ,QACRD,IAAK,uBACLP","file":"js/chunk-16963b6e.3c7c5f14.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79801682&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79801682&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('van-nav-bar',{attrs:{\"title\":\"首页\",\"fixed\":\"\"}}),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-icon',{staticClass:\"tab-btn\",attrs:{\"slot\":\"nav-right\",\"name\":\"wap-nav\"},on:{\"click\":function($event){_vm.popupShow = true}},slot:\"nav-right\"}),_vm._l((_vm.channels),function(item){return _c('van-tab',{key:item.id,attrs:{\"title\":item.name}},[_c('article-list',{attrs:{\"channel\":item}})],1)})],2),_c('van-popup',{style:({ height: '94%' }),attrs:{\"position\":\"bottom\",\"closeable\":\"\",\"round\":\"\"},model:{value:(_vm.popupShow),callback:function ($$v) {_vm.popupShow=$$v},expression:\"popupShow\"}},[_c('channel-edit',{attrs:{\"myChannels\":_vm.channels},on:{\"close\":function($event){_vm.popupShow = false}},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <!-- 导航栏 -->\n    <van-nav-bar title=\"首页\" fixed/>\n    <!-- /导航栏 -->\n\n    <!-- 频道列表 -->\n    <van-tabs v-model=\"active\">\n      <van-icon class=\"tab-btn\" @click=\"popupShow = true\"\n      name=\"wap-nav\" slot=\"nav-right\"></van-icon>\n      <van-tab :title=\"item.name\"\n      v-for=\"item of channels\" :key=\"item.id\">\n\n        <!-- 文章列表 被下拉刷新包裹 -->\n        <article-list :channel=\"item\"></article-list>\n        <!-- /文章列表 -->\n      </van-tab>\n    </van-tabs>\n    <van-popup\n        v-model=\"popupShow\"\n        position=\"bottom\"\n        closeable\n        round\n        :style=\"{ height: '94%' }\">\n        <!--\n        默认传递一个名字叫value的数据给子组件 ：value=“active”\n        默认监听名字叫input的自定义事件 @input=“active=事件参数”\n        当子组件发布this.$emit('input', 数据)\n        这里使用 v-model   绑定了 active 数据\n        子组件在内部需要声明 value 属性接收使用\n        子组件需要在内部通过 this.$emit('input', 数据) 修改该数据\n\n        什么时候用？\n        父子组件需要同步一些数据的时候，更简洁 本质还是父子通信\n        -->\n        <channel-edit :myChannels=\"channels\"\n        @close=\"popupShow = false\"\n        v-model=\"active\"></channel-edit>\n        </van-popup>\n    <!-- /频道列表 -->\n  </div>\n</template>\n\n<script>\nimport { getChannels } from '@/api/user'\nimport { getItem } from '@/utils/storage'\nexport default {\n  name: 'homePage',\n  data () {\n    return {\n      active: 0,\n      channels: [],\n      popupShow: false\n    }\n  },\n  methods: {\n    async getUserChannels () {\n      let localChannels = getItem('user-channels')\n      // 如果本地有 用本地 没有 则请求获取\n      if (localChannels) {\n        this.channels = localChannels\n      } else {\n        try {\n          const { data } = await getChannels()\n          this.channels = data.data.channels\n        } catch (error) {\n          // console.log(error)\n        }\n      }\n    }\n  },\n  created () {\n    this.getUserChannels()\n  }\n}\n\n// 如果想要在父组件中影响子组件样式：\n// 要么不要有作用域，那就是全局，影响任何组件\n\n// 如果有作用域\n// 默认只能影响到自子组件的根节点样式生效\n// 审查元素找到子组件根节点类名使用\n// 或者手动给子组件添加一个 class，它会自动添加到子组件根节点的 class 中\n// 如果需要影响的更深，则使用深度选择器：>>>、/deep/、::v-deep\n// >>> 在 less、sass、stylus 等 CSS 预处理器中会报错\n// 所以建议使用 /deep/ 或者 ::v-deep\n</script>\n\n<style lang=\"less\" scoped>\n.home{\n  padding-top: 90px;\n  padding-bottom: 50px;\n  /deep/ .van-tabs__wrap{\n    position: fixed;\n    top: 46px;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n  /deep/ .tab-btn{\n    position: fixed;\n    right: 0;\n    line-height: 44px;\n    background-color: #fff;\n  }\n .van-popup{\n  /deep/ .van-popup__close-icon{\n    position: fixed;\n    left: 20px;\n    top: 60px;\n    // z-index: -1;\n  }\n }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=79801682&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=79801682&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79801682\",\n  null\n  \n)\n\nexport default component.exports","// 用户相关请求\n\nimport request from '@/utils/request'\n\n// export const login = data => {\n//   return request({\n//     url: '/app/v1_0/authorizations',\n//     method: 'post',\n//     // params: {},query参数\n//     // headers: {},请求头参数\n//     //data  body参数\n//   })\n// }\nexport const login = data => request({// 登录\n  url: '/app/v1_0/authorizations',\n  method: 'post',\n  data\n})\n\nexport const getSmsCode = mobile => { // 获取验证码\n  return request({\n    method: 'GET',\n    url: `/app/v1_0/sms/codes/${mobile}`\n  })\n}\n// 获取用户个人信息\nexport const getUserinfo = () => request({ url: `/app/v1_0/user` })\n\n// 获取频道列表 用户/推荐\nexport const getChannels = () => request({ url: `/app/v1_0/user/channels` })\n\n// 获取用户个人资料\nexport const getUserProfile = () => request({ url: `/app/v1_0/user/profile` })\n\n// 更新用户资料\nexport const updateUserProfile = data => request({\n  method: 'PATCH',\n  url: '/app/v1_0/user/profile',\n  data\n})\n// 编辑用户头像\nexport const updateUserPhoto = data => request({\n  method: 'PATCH',\n  url: '/app/v1_0/user/photo',\n  data\n})\n"],"sourceRoot":""}