{"version":3,"sources":["webpack:///./src/views/article/index.vue?f656","webpack:///src/views/article/index.vue","webpack:///./src/views/article/index.vue?a06c","webpack:///./src/views/article/index.vue","webpack:///./src/views/article/index.vue?a782","webpack:///./src/views/article/no-network.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","_t","_v","arDetails","_s","title","aut_photo","aut_name","_f","pubdate","$store","state","user","aut_id","userId","_e","followLoading","is_followed","onfollow","domProps","content","articleComment","finished","onLoad","model","value","callback","$$v","$set","expression","_l","item","key","id","onReplyShow","loadArticle","staticStyle","isReplyShow","currentComment","showPopup","totalCount","is_collected","onCollect","attitude","onLike","postMessage","addPublish","staticRenderFns","name","props","type","Array","Object","String","required","data","loading","list","offset","computed","watch","created","mounted","methods","comment","component","module","exports"],"mappings":"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","file":"js/chunk-a52d43aa.a16e0dc0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"文章详情\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),(_vm.loading)?_c('van-loading',{staticClass:\"loading\",attrs:{\"color\":\"#1989fa\",\"vertical\":\"\"}},[_vm._t(\"default\",[_vm._v(\"加载中...\")])],2):(_vm.arDetails.title)?_c('div',{staticClass:\"detail\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.arDetails.title))]),_c('div',{staticClass:\"author-wrap\"},[_c('div',{staticClass:\"base-info\"},[_c('van-image',{staticClass:\"avatar\",attrs:{\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.arDetails.aut_photo}}),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.arDetails.aut_name))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"dateTime\")(_vm.arDetails.pubdate,'YYYY-MM-DD')))])])],1),(!_vm.$store.state.user || _vm.arDetails.aut_id  !== _vm.$store.state.user.userId)?_c('van-button',{staticClass:\"follow-btn\",attrs:{\"size\":\"small\",\"round\":\"\",\"loading\":_vm.followLoading,\"type\":_vm.arDetails.is_followed ? 'default' :'info'},on:{\"click\":_vm.onfollow}},[_vm._v(\" \"+_vm._s(_vm.arDetails.is_followed? '已关注' : \"+ 关注\"))]):_vm._e()],1),_c('div',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.arDetails.content)}}),_c('van-list',{attrs:{\"finished\":_vm.articleComment.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.articleComment.loading),callback:function ($$v) {_vm.$set(_vm.articleComment, \"loading\", $$v)},expression:\"articleComment.loading\"}},[_c('van-cell',{staticClass:\"commentSection\"},[_vm._v(\"全部评论\")]),_vm._l((_vm.articleComment.list),function(item){return _c('comment-item',{key:item.id,attrs:{\"comment\":item},on:{\"click-reply\":_vm.onReplyShow}})})],2)],1):_c('div',{staticClass:\"error\"},[_c('img',{attrs:{\"src\":require(\"./no-network.png\"),\"alt\":\"no-network\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"亲，网络不给力哦~\")]),_c('van-button',{staticClass:\"btn\",attrs:{\"type\":\"default\",\"size\":\"small\"},on:{\"click\":_vm.loadArticle}},[_vm._v(\"点击重试\")])],1),_c('van-popup',{staticStyle:{\"height\":\"65%\"},attrs:{\"position\":\"bottom\"},model:{value:(_vm.isReplyShow),callback:function ($$v) {_vm.isReplyShow=$$v},expression:\"isReplyShow\"}},[(_vm.isReplyShow)?_c('comment-reply',{attrs:{\"comment1\":_vm.currentComment,\"artId\":_vm.id},on:{\"click-close\":function($event){_vm.isReplyShow = false}}}):_vm._e()],1),_c('div',{staticClass:\"footer\"},[_c('van-button',{staticClass:\"write-btn\",attrs:{\"type\":\"default\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showPopup = true}}},[_vm._v(\"写评论\")]),_c('van-icon',{staticClass:\"comment-icon\",attrs:{\"name\":\"comment-o\",\"info\":_vm.articleComment.totalCount}}),_c('van-icon',{attrs:{\"color\":\"orange\",\"name\":_vm.arDetails.is_collected? 'star' : 'star-o'},on:{\"click\":function($event){return _vm.onCollect()}}}),_c('van-icon',{attrs:{\"color\":\"#e5645f\",\"name\":_vm.arDetails.attitude === 1?'good-job':'good-job-o'},on:{\"click\":_vm.onLike}}),_c('van-icon',{staticClass:\"share-icon\",attrs:{\"name\":\"share\"}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showPopup),callback:function ($$v) {_vm.showPopup=$$v},expression:\"showPopup\"}},[_c('div',{staticClass:\"postMessage\"},[_c('van-field',{attrs:{\"rows\":\"2\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"请输入留言\",\"show-word-limit\":\"\"},model:{value:(_vm.postMessage),callback:function ($$v) {_vm.postMessage=$$v},expression:\"postMessage\"}}),_c('van-button',{attrs:{\"disabled\":!_vm.postMessage,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addPublish}},[_vm._v(\"发布\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article-container\">\n    <!-- 导航栏 -->\n    <van-nav-bar\n      title=\"文章详情\"\n      left-arrow\n      fixed\n      @click-left=\"$router.back()\"\n    ></van-nav-bar>\n    <!-- /导航栏 -->\n\n    <!-- 加载中 -->\n    <van-loading\n    v-if=\"loading\"\n      class=\"loading\"\n      color=\"#1989fa\"\n      vertical\n    >\n      <slot>加载中...</slot>\n    </van-loading>\n    <!-- /加载中 -->\n\n    <!-- 文章详情 -->\n    <div class=\"detail\" v-else-if=\"arDetails.title\">\n      <h3 class=\"title\">{{arDetails.title}}</h3>\n      <div class=\"author-wrap\">\n        <div class=\"base-info\">\n          <van-image\n            class=\"avatar\"\n            round\n            fit=\"cover\"\n            :src=\"arDetails.aut_photo\"\n          />\n          <div class=\"text\">\n            <p class=\"name\">{{arDetails.aut_name}}</p>\n            <p class=\"time\">{{arDetails.pubdate | dateTime('YYYY-MM-DD')}}</p>\n          </div>\n        </div>\n        <!-- 用户没登陆或当前文章非本人所写按钮显示 -->\n        <!-- v-if=\"!$store.state.user || arDetails.aut_id  !== 当前登陆用户id\" -->\n        <van-button class=\"follow-btn\" size=\"small\" round\n        @click=\"onfollow\" :loading=\"followLoading\"\n        v-if=\"!$store.state.user || arDetails.aut_id  !== $store.state.user.userId\"\n        :type=\"arDetails.is_followed ? 'default' :'info'\" >\n          {{arDetails.is_followed? '已关注' : \"+ 关注\"}}</van-button>\n      </div>\n      <div class=\"markdown-body\" v-html=\"arDetails.content\"></div>\n      <!-- 文章评论 -->\n       <van-list\n          v-model=\"articleComment.loading\"\n          :finished=\"articleComment.finished\"\n          finished-text=\"没有更多了\"\n          @load=\"onLoad\">\n      <van-cell class=\"commentSection\">全部评论</van-cell>\n      <comment-item v-for=\"item of articleComment.list\"\n      @click-reply=\"onReplyShow\"\n      :key=\"item.id\"  :comment=\"item\"></comment-item>\n    </van-list>\n    </div>\n    <!-- /文章详情 -->\n\n    <!-- 加载失败提示 -->\n    <div class=\"error\" v-else>\n      <img src=\"./no-network.png\" alt=\"no-network\">\n      <p class=\"text\">亲，网络不给力哦~</p>\n      <van-button\n        class=\"btn\"\n        type=\"default\"\n        size=\"small\"\n        @click=\"loadArticle\"\n      >点击重试</van-button>\n    </div>\n    <!-- /加载失败提示 -->\n\n    <!-- 评论回复 -->\n    <van-popup\n      v-model=\"isReplyShow\"\n      position=\"bottom\"\n      style=\"height: 65%\">\n      <!-- 回复组件 -->\n      <comment-reply\n      v-if=\"isReplyShow\"\n      :comment1=\"currentComment\"\n      @click-close=\"isReplyShow = false\"\n      :artId=\"id\"></comment-reply>\n      <!-- 因弹层的原因 懒加载 导致点击不同回复时出现无法正常切换 -->\n      <!-- 绑定v-if 实现弹层关闭时销毁当前点击的回复-->\n    </van-popup>\n\n  <!-- /评论回复 -->\n    <!-- 底部区域 -->\n    <div class=\"footer\">\n      <van-button\n        class=\"write-btn\"\n        type=\"default\"\n        round\n        size=\"small\"\n        @click=\"showPopup = true\"\n      >写评论</van-button>\n      <van-icon\n        class=\"comment-icon\"\n        name=\"comment-o\"\n        :info=\"articleComment.totalCount\"\n      />\n      <van-icon\n      @click=\"onCollect()\"\n        color=\"orange\"\n        :name=\"arDetails.is_collected? 'star' : 'star-o'\"\n      />\n      <van-icon\n        color=\"#e5645f\"\n        @click=\"onLike\"\n        :name=\"arDetails.attitude === 1?'good-job':'good-job-o'\"\n      />\n      <van-icon class=\"share-icon\" name=\"share\" />\n    </div>\n    <!-- /底部区域 -->\n\n    <!-- 评论弹层 -->\n    <van-popup\n    v-model=\"showPopup\"\n    position=\"bottom\">\n   <div class=\"postMessage\">\n      <van-field\n    v-model=\"postMessage\"\n    rows=\"2\"\n    autosize\n    type=\"textarea\"\n    maxlength=\"50\"\n    placeholder=\"请输入留言\"\n    show-word-limit\n    />\n    <van-button\n    @click=\"addPublish\"\n    :disabled=\"!postMessage\"\n    type=\"primary\" size=\"mini\">发布</van-button>\n   </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { getDetails, addCollect,\n  delCollect, addLike, delLike,\n  addFollow, delFollow, getComments,\n  publishCOM } from '@/api/article'\nexport default {\n  name: 'articlePage',\n  props: {\n    id: {// 接收到的路由映射参数\n      type: [Array, Object, String],\n      required: true\n    }\n  },\n  data () {\n    return {\n      arDetails: {},\n      loading: true,\n      followLoading: false,\n      showPopup: false,\n      postMessage: '',\n      isReplyShow: false,\n      currentComment: {},\n      articleComment: { // 文章评论相关数据\n        list: [],\n        loading: false,\n        finished: false,\n        offset: null, // 请求下一页数据的页码\n        totalCount: 0 // 总数据条数\n      }\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {\n    this.loadArticle()\n  },\n  mounted () {},\n  methods: {\n    async loadArticle () {\n      this.loading = true\n      try {\n        const { data } = await getDetails(this.id)\n        // console.log(data.data)\n        this.arDetails = data.data\n      } catch (error) {\n      }\n      this.loading = false\n    },\n    async onCollect () {\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        message: '努力操作中...',\n        forbidClick: true // 是否禁止背景点击\n      })\n      try {\n        if (this.arDetails.is_collected) {\n          await delCollect(this.id)\n          this.arDetails.is_collected = false\n          this.$toast.success('取消收藏')\n        } else {\n          await addCollect(this.id)\n          this.arDetails.is_collected = true\n          this.$toast.success('收藏成功')\n        }\n      } catch (error) {\n        // console.log(error)\n        this.$toast.fail('操作失败')\n      }\n    },\n    async onLike () {\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        message: '努力操作中...',\n        forbidClick: true // 是否禁止背景点击\n      })\n      try {\n        if (this.arDetails.attitude === 1) {\n          await delLike(this.id)\n          this.arDetails.attitude = -1\n          this.$toast.success('取消点赞')\n        } else {\n          await addLike(this.id)\n          this.arDetails.attitude = 1\n          this.$toast.success('点赞成功')\n        }\n      } catch (error) {\n        // console.log(error)\n        this.$toast.fail('操作失败')\n      }\n    },\n    async onfollow () {\n      this.followLoading = true\n      try {\n        if (this.arDetails.is_followed) {\n          await delFollow(this.arDetails.aut_id)\n        } else {\n          await addFollow(this.arDetails.aut_id)\n        }\n        // 更新视图\n        this.arDetails.is_followed = !this.arDetails.is_followed\n      } catch (error) {\n        // console.log(error)\n        this.$toast.fail('操作失败')\n      }\n      this.followLoading = false\n    },\n    async onLoad () { // 获取评论\n      const { data } = await getComments({\n        type: 'a',\n        source: this.id,\n        offset: this.articleComment.offset, // 获取下一页\n        limit: null\n      })\n      const { results } = data.data\n      this.articleComment.list.push(...results)\n\n      // 更新评论条数\n      this.articleComment.totalCount = data.data.total_count\n      // 加载状态结束\n      this.articleComment.loading = false\n      // 数据全部加载完成\n      if (results.length) {\n        this.articleComment.offset = data.data.last_id // 更新页码\n      } else {\n        this.articleComment.finished = true\n      }\n    },\n    async addPublish () {\n      if (!postMessage) { // 非空判断\n        return\n      }\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        message: '努力发布中...',\n        forbidClick: true // 是否禁止背景点击\n      })\n      try {\n        const postMessage = this.postMessage\n        const { data } = await publishCOM({\n          target: this.id,\n          content: postMessage\n        })\n        // 数据展示置顶\n        this.articleComment.list.unshift(data.data.new_obj)\n\n        this.articleComment.totalCount++\n\n        this.$toast.success('发布成功')\n\n        this.postMessage = ''\n\n        this.showPopup = false\n      } catch (error) {\n        // console.log(error)\n\n        this.$toast.fail('发布失败')\n      }\n    },\n    onReplyShow (comment) {\n      // 将子组件传的评论对象comment存\n      this.currentComment = comment\n\n      this.isReplyShow = true\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"./github-markdown.css\";\n\n.article-container {\n  padding: 46px 20px 150px;\n  background: #fff;\n .van-icon{ color:#fff}\n  .loading {\n    padding-top: 100px;\n    text-align: center;\n  }\n  .detail {\n    .title {\n      margin: 0;\n      padding-top: 24px;\n      font-size: 20px;\n      color: #3A3A3A;\n    }\n    .author-wrap {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 20px 0;\n      height: 40px;\n      .base-info {\n        display: flex;\n        align-items: center;\n        .avatar {\n          width: 40px;\n          height: 40px;\n          margin-right: 8px;\n        }\n        .text {\n          line-height: 1.5;\n          .name {\n            margin: 0;\n            font-size: 14px;\n          }\n          .time {\n            margin: 0;\n            font-size: 12px;\n            color: #999;\n          }\n        }\n      }\n      .follow-btn {\n        width: 85px;\n      }\n    }\n  }\n  .commentSection{\n    margin-top: 100px;\n  }\n  .error {\n    padding-top: 100px;\n    text-align: center;\n    .text {\n      font-size: 15px;\n    }\n    .btn {\n      width: 30%;\n    }\n  }\n  .footer {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    height: 44px;\n    border-top: 1px solid #d8d8d8;\n    background-color: #fff;\n    .write-btn {\n      width: 160px;\n    }\n    .van-icon {\n      font-size: 20px;\n    }\n    .comment-icon {\n      bottom: -2px;\n      z-index: 2;\n    }\n    .share-icon {\n      bottom: -2px;\n    }\n  }\n  .postMessage {\n    display: flex;\n    padding: 10px;\n    align-items:flex-end;\n    .van-field{\n      background-color: #f5f7f9;\n      margin-right: 10px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=14dffb07&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=14dffb07&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14dffb07\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=14dffb07&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=14dffb07&scoped=true&lang=less&\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}