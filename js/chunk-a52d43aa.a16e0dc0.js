(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a52d43aa"],{"049f":function(t,e,a){},"230c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-container"},[n("van-nav-bar",{attrs:{title:"文章详情","left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.back()}}}),t.loading?n("van-loading",{staticClass:"loading",attrs:{color:"#1989fa",vertical:""}},[t._t("default",[t._v("加载中...")])],2):t.arDetails.title?n("div",{staticClass:"detail"},[n("h3",{staticClass:"title"},[t._v(t._s(t.arDetails.title))]),n("div",{staticClass:"author-wrap"},[n("div",{staticClass:"base-info"},[n("van-image",{staticClass:"avatar",attrs:{round:"",fit:"cover",src:t.arDetails.aut_photo}}),n("div",{staticClass:"text"},[n("p",{staticClass:"name"},[t._v(t._s(t.arDetails.aut_name))]),n("p",{staticClass:"time"},[t._v(t._s(t._f("dateTime")(t.arDetails.pubdate,"YYYY-MM-DD")))])])],1),t.$store.state.user&&t.arDetails.aut_id===t.$store.state.user.userId?t._e():n("van-button",{staticClass:"follow-btn",attrs:{size:"small",round:"",loading:t.followLoading,type:t.arDetails.is_followed?"default":"info"},on:{click:t.onfollow}},[t._v(" "+t._s(t.arDetails.is_followed?"已关注":"+ 关注"))])],1),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.arDetails.content)}}),n("van-list",{attrs:{finished:t.articleComment.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.articleComment.loading,callback:function(e){t.$set(t.articleComment,"loading",e)},expression:"articleComment.loading"}},[n("van-cell",{staticClass:"commentSection"},[t._v("全部评论")]),t._l(t.articleComment.list,(function(e){return n("comment-item",{key:e.id,attrs:{comment:e},on:{"click-reply":t.onReplyShow}})}))],2)],1):n("div",{staticClass:"error"},[n("img",{attrs:{src:a("c469"),alt:"no-network"}}),n("p",{staticClass:"text"},[t._v("亲，网络不给力哦~")]),n("van-button",{staticClass:"btn",attrs:{type:"default",size:"small"},on:{click:t.loadArticle}},[t._v("点击重试")])],1),n("van-popup",{staticStyle:{height:"65%"},attrs:{position:"bottom"},model:{value:t.isReplyShow,callback:function(e){t.isReplyShow=e},expression:"isReplyShow"}},[t.isReplyShow?n("comment-reply",{attrs:{comment1:t.currentComment,artId:t.id},on:{"click-close":function(e){t.isReplyShow=!1}}}):t._e()],1),n("div",{staticClass:"footer"},[n("van-button",{staticClass:"write-btn",attrs:{type:"default",round:"",size:"small"},on:{click:function(e){t.showPopup=!0}}},[t._v("写评论")]),n("van-icon",{staticClass:"comment-icon",attrs:{name:"comment-o",info:t.articleComment.totalCount}}),n("van-icon",{attrs:{color:"orange",name:t.arDetails.is_collected?"star":"star-o"},on:{click:function(e){return t.onCollect()}}}),n("van-icon",{attrs:{color:"#e5645f",name:1===t.arDetails.attitude?"good-job":"good-job-o"},on:{click:t.onLike}}),n("van-icon",{staticClass:"share-icon",attrs:{name:"share"}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[n("div",{staticClass:"postMessage"},[n("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":""},model:{value:t.postMessage,callback:function(e){t.postMessage=e},expression:"postMessage"}}),n("van-button",{attrs:{disabled:!t.postMessage,type:"primary",size:"mini"},on:{click:t.addPublish}},[t._v("发布")])],1)])],1)},s=[],i=a("2909"),o=(a("96cf"),a("1da1")),r=a("2423"),c={name:"articlePage",props:{id:{type:[Array,Object,String],required:!0}},data:function(){return{arDetails:{},loading:!0,followLoading:!1,showPopup:!1,postMessage:"",isReplyShow:!1,currentComment:{},articleComment:{list:[],loading:!1,finished:!1,offset:null,totalCount:0}}},computed:{},watch:{},created:function(){this.loadArticle()},mounted:function(){},methods:{loadArticle:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,Object(r["l"])(t.id);case 4:a=e.sent,n=a.data,t.arDetails=n.data,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},onCollect:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$toast.loading({duration:0,message:"努力操作中...",forbidClick:!0}),e.prev=1,!t.arDetails.is_collected){e.next=9;break}return e.next=5,Object(r["e"])(t.id);case 5:t.arDetails.is_collected=!1,t.$toast.success("取消收藏"),e.next=13;break;case 9:return e.next=11,Object(r["a"])(t.id);case 11:t.arDetails.is_collected=!0,t.$toast.success("收藏成功");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),t.$toast.fail("操作失败");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))()},onLike:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$toast.loading({duration:0,message:"努力操作中...",forbidClick:!0}),e.prev=1,1!==t.arDetails.attitude){e.next=9;break}return e.next=5,Object(r["h"])(t.id);case 5:t.arDetails.attitude=-1,t.$toast.success("取消点赞"),e.next=13;break;case 9:return e.next=11,Object(r["d"])(t.id);case 11:t.arDetails.attitude=1,t.$toast.success("点赞成功");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),t.$toast.fail("操作失败");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))()},onfollow:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.followLoading=!0,e.prev=1,!t.arDetails.is_followed){e.next=7;break}return e.next=5,Object(r["g"])(t.arDetails.aut_id);case 5:e.next=9;break;case 7:return e.next=9,Object(r["c"])(t.arDetails.aut_id);case 9:t.arDetails.is_followed=!t.arDetails.is_followed,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),t.$toast.fail("操作失败");case 15:t.followLoading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},onLoad:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["k"])({type:"a",source:t.id,offset:t.articleComment.offset,limit:null});case 2:n=e.sent,s=n.data,o=s.data.results,(a=t.articleComment.list).push.apply(a,Object(i["a"])(o)),t.articleComment.totalCount=s.data.total_count,t.articleComment.loading=!1,o.length?t.articleComment.offset=s.data.last_id:t.articleComment.finished=!0;case 9:case"end":return e.stop()}}),e)})))()},addPublish:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(postMessage){e.next=2;break}return e.abrupt("return");case 2:return t.$toast.loading({duration:0,message:"努力发布中...",forbidClick:!0}),e.prev=3,a=t.postMessage,e.next=7,Object(r["p"])({target:t.id,content:a});case 7:n=e.sent,s=n.data,t.articleComment.list.unshift(s.data.new_obj),t.articleComment.totalCount++,t.$toast.success("发布成功"),t.postMessage="",t.showPopup=!1,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](3),t.$toast.fail("发布失败");case 19:case"end":return e.stop()}}),e,null,[[3,16]])})))()},onReplyShow:function(t){this.currentComment=t,this.isReplyShow=!0}}},l=c,u=(a("a3cf"),a("2877")),d=Object(u["a"])(l,n,s,!1,null,"14dffb07",null);e["default"]=d.exports},a3cf:function(t,e,a){"use strict";var n=a("049f"),s=a.n(n);s.a},c469:function(t,e){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=chunk-a52d43aa.a16e0dc0.js.map