(function(e){function t(t){for(var a,r,o=t[0],i=t[1],u=t[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==c[o]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},c={app:0},s=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0713d968":"0dd99635","chunk-16963b6e":"3c7c5f14","chunk-2d0a2e01":"3846d777","chunk-2d0f0860":"af4e1e56","chunk-2d217eac":"eedee358","chunk-4484aa65":"4cf4b6f9","chunk-464ca0c2":"13fd2c8a","chunk-6fd440ff":"147e95b2","chunk-84d5dbfc":"52fa1ea0","chunk-a52d43aa":"a16e0dc0","chunk-c2c9f1d6":"0f966b25"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0713d968":1,"chunk-16963b6e":1,"chunk-4484aa65":1,"chunk-464ca0c2":1,"chunk-6fd440ff":1,"chunk-84d5dbfc":1,"chunk-a52d43aa":1,"chunk-c2c9f1d6":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0713d968":"b4086dd2","chunk-16963b6e":"df02a8c6","chunk-2d0a2e01":"31d6cfe0","chunk-2d0f0860":"31d6cfe0","chunk-2d217eac":"31d6cfe0","chunk-4484aa65":"2940daeb","chunk-464ca0c2":"4031f818","chunk-6fd440ff":"bddcf864","chunk-84d5dbfc":"42002b5f","chunk-a52d43aa":"bc0a7497","chunk-c2c9f1d6":"f192a0ab"}[e]+".css",c=i.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===c))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||c,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=c[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}c[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/mobile-HM/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04d2":function(e,t,n){},1925:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n("b775"),r=function(e){return Object(a["a"])({url:"/app/v1_0/suggestion",params:{q:e}})},c=function(e){return Object(a["a"])({url:"/app/v1_0/search",params:e})}},2423:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"l",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"p",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return g})),n.d(t,"m",(function(){return v}));var a=n("b775"),r=function(e){return Object(a["a"])({url:"/app/v1_1/articles",params:e})},c=function(){return Object(a["a"])({url:"/app/v1_0/channels"})},s=function(e){return Object(a["a"])({url:"/app/v1_0/articles/".concat(e)})},o=function(e){return Object(a["a"])({method:"POST",url:"/app/v1_0/article/collections",data:{target:e}})},i=function(e){return Object(a["a"])({method:"DELETE",url:"/app/v1_0/article/collections/".concat(e)})},u=function(e){return Object(a["a"])({method:"POST",url:"/app/v1_0/article/likings",data:{target:e}})},l=function(e){return Object(a["a"])({method:"DELETE",url:"/app/v1_0/article/likings/".concat(e)})},d=function(e){return Object(a["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:e}})},f=function(e){return Object(a["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(e)})},p=function(e){return Object(a["a"])({url:"/app/v1_0/comments",params:e})},m=function(e){return Object(a["a"])({method:"post",url:"/app/v1_0/comments",data:e})},h=function(e){return Object(a["a"])({method:"POST",url:"/app/v1_0/comment/likings",data:{target:e}})},b=function(e){return Object(a["a"])({method:"DELETE",url:"/app/v1_0/comment/likings/".concat(e)})},j=function(e){return Object(a["a"])({url:"/app/v1_0/user/articles",params:e})},g=function(e){return Object(a["a"])({url:"/app/v1_0/article/collections",params:e})},v=function(e){return Object(a["a"])({url:"/app/v1_0/user/histories",params:e})}},"3b2a":function(e,t,n){"use strict";var a=n("69a9"),r=n.n(a);r.a},4360:function(e,t,n){"use strict";n("caad"),n("c975"),n("a434"),n("2532");var a=n("2b0e"),r=n("2f62"),c=n("8235"),s=n.n(c),o=n("5d2d");a["a"].use(r["a"]),t["a"]=new r["a"].Store({state:{user:Object(o["a"])("user"),catchPages:["tabbar"]},mutations:{setUser:function(e,t){t&&t.token&&(t.userId=s()(t.token).user_id),e.user=t,Object(o["b"])("user",e.user)},addPages:function(e,t){e.catchPages.includes(t)||e.catchPages.push(t)},removePages:function(e,t){var n=e.catchPages.indexOf(t);-1!==n&&e.catchPages.splice(n)}},actions:{},modules:{}})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{include:e.$store.state.catchPages}},[n("router-view")],1)],1)},c=[],s={name:"App",data:function(){return{}}},o=s,i=n("2877"),u=Object(i["a"])(o,r,c,!1,null,null,null),l=u.exports,d=n("a18c"),f=n("4360"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,(function(t){return n("van-cell",{key:t.id,attrs:{title:t.title},on:{click:function(n){return e.$router.push("/article/"+t.art_id)}}})})),1)],1)},m=[],h=n("2909"),b=(n("96cf"),n("1da1")),j=n("2423"),g={name:"articlelist",props:{channel:{type:Object,required:!0}},data:function(){return{active:0,list:[],channels:[],loading:!1,finished:!1,isLoading:!1,timestamp:null}},methods:{onLoad:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["j"])({channel_id:e.channel.id,timestamp:e.timestamp||Date.now(),with_top:1});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.list).push.apply(n,Object(h["a"])(c)),e.loading=!1,c.length?e.timestamp=r.data.pre_timestamp:e.finished=!0;case 8:case"end":return t.stop()}}),t)})))()},onRefresh:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["j"])({channel_id:e.channel.id,timestamp:Date.now(),with_top:1});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.list).unshift.apply(n,Object(h["a"])(c)),e.isLoading=!1,e.$toast("更新了".concat(c.length,"条数据"));case 8:case"end":return t.stop()}}),t)})))()}}},v=g,k=Object(i["a"])(v,p,m,!1,null,null,null),y=k.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"channel-edit"},[n("van-cell",{staticClass:"channel-title",attrs:{title:"我的频道",border:!1}},[n("van-button",{attrs:{size:"mini",round:"",type:"danger",plain:""},on:{click:function(t){e.delIcon=!e.delIcon}}},[e._v(e._s(e.delIcon?"完成":"编辑"))])],1),n("van-grid",{attrs:{gutter:10}},e._l(e.myChannels,(function(t,a){return n("van-grid-item",{key:t.id,on:{click:function(t){return e.myChannelClick(a)}}},[n("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.delIcon&&0!==a,expression:"delIcon && index !== 0"}],staticClass:"delIcon",attrs:{slot:"icon",name:"close"},slot:"icon"}),n("span",{staticClass:"text",class:{active:e.value===a},attrs:{slot:"text"},slot:"text"},[e._v(e._s(t.name))])],1)})),1),n("van-cell",{attrs:{title:"推荐频道",border:!1}}),n("van-grid",{attrs:{gutter:10}},e._l(e.remainingChannels,(function(t){return n("van-grid-item",{key:t.id,attrs:{text:t.name},on:{click:function(n){return e.onAdd(t)}}})})),1)],1)},_=[],w=(n("7db0"),n("4160"),n("a434"),n("a9e3"),n("159b"),n("5d2d")),x={name:"channel-edit",props:{myChannels:{type:Array,required:!0},value:{type:Number,required:!0}},data:function(){return{allChannels:[],delIcon:!1}},methods:{loadAllChannels:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["i"])();case 2:n=t.sent,a=n.data,e.allChannels=a.data.channels;case 5:case"end":return t.stop()}}),t)})))()},onAdd:function(e){this.myChannels.push(e)},myChannelClick:function(e){this.delIcon&&0!==e?this.myChannels.splice(e,1):(this.$emit("input",e),this.$emit("close"))}},created:function(){this.loadAllChannels()},computed:{remainingChannels:function(){var e=this,t=[];return this.allChannels.forEach((function(n){e.myChannels.find((function(e){return e.id===n.id}))||t.push(n)})),t}},watch:{myChannels:function(){Object(w["b"])("user-channels",this.myChannels)}}},P=x,C=(n("bb5c"),Object(i["a"])(P,O,_,!1,null,"72bc0ee8",null)),S=C.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"res-list"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.resSearch,(function(t,a){return n("van-cell",{key:a,attrs:{title:t.title},on:{click:function(n){return e.$router.push("/article/"+t.art_id)}}})})),1)],1)},$=[],z=n("1925"),L={name:"resList",props:{words:{type:String,required:!0}},data:function(){return{list:[],loading:!1,finished:!1,page:1,perPage:20,resSearch:[]}},methods:{onLoad:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(z["a"])({page:e.page,per_page:e.perPage,q:e.words});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.resSearch).push.apply(n,Object(h["a"])(c)),e.loading=!1,c.length?e.page++:e.finished=!0;case 8:case"end":return t.stop()}}),t)})))()}}},R=L,D=Object(i["a"])(R,E,$,!1,null,null,null),T=D.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-cell",{staticClass:"comment-item"},[n("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",src:e.comment.aut_photo},slot:"icon"}),n("span",{staticStyle:{color:"#466b9d"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.comment.aut_name))]),n("div",{attrs:{slot:"label"},slot:"label"},[n("p",{staticStyle:{color:"#363636"}},[e._v(e._s(e.comment.content))]),n("p",[n("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e._f("relativeTime")(e.comment.pubdate)))]),n("van-button",{attrs:{size:"mini",type:"default"},on:{click:function(t){return e.$emit("click-reply",e.comment)}}},[e._v("回复 "+e._s(e.comment.reply_count))])],1)]),n("div",{staticClass:"like-container",attrs:{slot:"right-icon"},on:{click:e.onLike},slot:"right-icon"},[n("van-icon",{attrs:{color:e.comment.is_liking?"#e5645f":"",name:e.comment.is_liking?"good-job":"good-job-o"}}),n("span",[e._v(e._s(e.comment.like_count?e.comment.like_count:"赞"))])],1)],1)},A=[],M=(n("d3b7"),n("25f0"),{name:"CommentItem",components:{},props:{comment:{type:Object,required:!0}},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{onLike:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$toast.loading({duration:0,message:"努力操作中...",forbidClick:!0}),t.prev=1,!e.comment.is_liking){t.next=9;break}return t.next=5,Object(j["f"])(e.comment.com_id.toString());case 5:e.comment.like_count--,e.$toast.success("取消成功"),t.next=13;break;case 9:return t.next=11,Object(j["b"])(e.comment.com_id.toString());case 11:e.comment.like_count++,e.$toast.success("点赞成功");case 13:e.comment.is_liking=!e.comment.is_liking,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),e.$toast("操作失败");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()}}}),I=M,N=(n("cb9c"),Object(i["a"])(I,q,A,!1,null,"b0dee0da",null)),H=N.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-reply"},[n("van-nav-bar",{attrs:{title:e.comment1.reply_count+"条回复"}},[n("van-icon",{attrs:{slot:"left",name:"cross"},on:{click:function(t){return e.$emit("click-close")}},slot:"left"})],1),n("comment-item",{attrs:{comment:e.comment1}}),n("van-cell",{attrs:{title:"所有回复"}}),n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,(function(e,t){return n("comment-item",{key:t,attrs:{comment:e}})})),1),n("div",{staticClass:"footer"},[n("van-button",{staticClass:"write-btn",attrs:{type:"default",round:"",size:"small"},on:{click:function(t){e.showPopup=!0}}},[e._v("写评论")]),n("van-icon",{attrs:{color:"#e5645f",name:"good-job"}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[n("post-answer",{on:{"click-post":e.onPost},model:{value:e.postMessage,callback:function(t){e.postMessage=t},expression:"postMessage"}})],1)],1)},B=[],J={name:"comment-reply",props:{comment1:{type:Object,required:!0},artId:{type:[Object,String,Number],required:!0}},data:function(){return{list:[],loading:!1,finished:!1,offset:null,showPopup:!1,postMessage:""}},methods:{onLoad:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["k"])({type:"c",source:e.comment1.com_id.toString(),offset:e.offset,limit:null});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.list).push.apply(n,Object(h["a"])(c)),e.loading=!1,c.length?e.offset=r.data.last_id:e.finished=!0;case 8:case"end":return t.stop()}}),t)})))()},onPost:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(postMessage){t.next=2;break}return t.abrupt("return");case 2:return e.$toast.loading({duration:0,message:"努力发布中...",forbidClick:!0}),t.prev=3,n=e.postMessage,t.next=7,Object(j["p"])({target:e.comment1.com_id.toString(),content:n,art_id:e.artId.toString()});case 7:a=t.sent,r=a.data,e.list.unshift(r.data.new_obj),e.comment1.reply_count++,e.$toast.success("发布成功"),e.postMessage="",e.showPopup=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),e.$toast.fail("发布失败");case 19:case"end":return t.stop()}}),t,null,[[3,16]])})))()}}},Y=J,F=(n("3b2a"),Object(i["a"])(Y,U,B,!1,null,"7d937ae9",null)),G=F.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"postMessage"},[n("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":"",value:e.value},on:{input:function(t){return e.$emit("input",t)}}}),n("van-button",{attrs:{disabled:!e.value,type:"primary",size:"mini"},on:{click:function(t){return e.$emit("click-post")}}},[e._v("发布")])],1)},K=[],Q={props:{value:{type:String,required:!0}},data:function(){return{message:""}}},W=Q,X=(n("5e16"),Object(i["a"])(W,V,K,!1,null,"47300248",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"myArticle"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,(function(t){return n("van-cell",{key:t.art_id.toString(),attrs:{title:t.title},on:{click:function(n){e.$router.push({name:"article",params:{id:t.art_id.toString()}})}}})})),1)],1)},te=[],ne={name:"myArticle",props:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,per_page:10}},computed:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["n"])({page:e.page,per_page:e.per_page});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.list).push.apply(n,Object(h["a"])(c)),e.loading=!1,c.length?e.page++:e.finished=!0;case 8:case"end":return t.stop()}}),t)})))()}},watch:{}},ae=ne,re=Object(i["a"])(ae,ee,te,!1,null,"cc1e422e",null),ce=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mycollsect"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,(function(t){return n("van-cell",{key:t.art_id.toString(),attrs:{title:t.title},on:{click:function(n){e.$router.push({name:"article",params:{id:t.art_id.toString()}})}}})})),1)],1)},oe=[],ie={name:"myCollect",props:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,per_page:10}},computed:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["o"])({page:e.page,per_page:e.per_page});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.list).push.apply(n,Object(h["a"])(c)),e.loading=!1,c.length?e.page++:e.finished=!0;case 8:case"end":return t.stop()}}),t)})))()}},watch:{}},ue=ie,le=Object(i["a"])(ue,se,oe,!1,null,"c2d8a97e",null),de=le.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"myHistory"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,(function(t){return n("van-cell",{key:t.art_id.toString(),attrs:{title:t.title},on:{click:function(n){e.$router.push({name:"article",params:{id:t.art_id.toString()}})}}})})),1)],1)},pe=[],me={name:"myHistory",props:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,per_page:10}},computed:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["m"])({page:e.page,per_page:e.per_page});case 2:a=t.sent,r=a.data,c=r.data.results,(n=e.list).push.apply(n,Object(h["a"])(c)),e.loading=!1,c.length?e.page++:e.finished=!0;case 8:case"end":return t.stop()}}),t)})))()}},watch:{}},he=me,be=Object(i["a"])(he,fe,pe,!1,null,"35dc2518",null),je=be.exports,ge={install:function(e){e.component("channel-edit",S),e.component("article-list",y),e.component("search-list",T),e.component("comment-item",H),e.component("comment-reply",G),e.component("post-answer",Z),e.component("my-article",ce),e.component("my-collect",de),e.component("my-history",je)}},ve=(n("eaa7"),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("ade3")),ke=n("32a0"),ye=n("53f1"),Oe=n("f83e");function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(ve["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a["a"].component("ValidationProvider",ke["b"]),a["a"].component("ValidationObserver",ke["a"]),Object.keys(ye).forEach((function(e){Object(ke["c"])(e,we({},ye[e],{message:Oe["a"][e]}))})),Object(ke["c"])("mobile",{validate:function(e){return/^1(3|5|6|7|8|9)\d{9}$/.test(e)},message:"{_field_}格式错误"}),Object(ke["c"])("code",{validate:function(e){return/^\d{6}$/.test(e)},message:"{_field_}格式错误"});var xe=n("6bf2"),Pe=n.n(xe);Pe.a.locale("zh-cn"),a["a"].filter("relativeTime",(function(e){return Pe()(e).startOf("second").fromNow()})),a["a"].filter("dateTime",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return Pe()(e).format(t)}));var Ce=n("b4a6");n("e76c"),n("a4b1");a["a"].use(Ce["a"]),a["a"].use(ge),a["a"].config.productionTip=!1,new a["a"]({router:d["a"],store:f["a"],render:function(e){return e(l)}}).$mount("#app")},"5d2d":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n("53ca"),r=function(e,t){"object"===Object(a["a"])(t)&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},c=function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return t}}},"5e16":function(e,t,n){"use strict";var a=n("04d2"),r=n.n(a);r.a},"69a9":function(e,t,n){},"77d2":function(e,t,n){var a={"./af":"fbac","./af.js":"fbac","./ar":"f96f","./ar-dz":"e63c","./ar-dz.js":"e63c","./ar-kw":"b7bd","./ar-kw.js":"b7bd","./ar-ly":"968f","./ar-ly.js":"968f","./ar-ma":"9f9d","./ar-ma.js":"9f9d","./ar-sa":"aea5","./ar-sa.js":"aea5","./ar-tn":"d44b","./ar-tn.js":"d44b","./ar.js":"f96f","./az":"c7ed","./az.js":"c7ed","./be":"5a28","./be.js":"5a28","./bg":"1251","./bg.js":"1251","./bm":"2809","./bm.js":"2809","./bn":"b4fc","./bn.js":"b4fc","./bo":"5484","./bo.js":"5484","./br":"5adc","./br.js":"5adc","./bs":"ac10","./bs.js":"ac10","./ca":"e381","./ca.js":"e381","./cs":"aef2","./cs.js":"aef2","./cv":"6566","./cv.js":"6566","./cy":"1390","./cy.js":"1390","./da":"1ece","./da.js":"1ece","./de":"5f10","./de-at":"09c4","./de-at.js":"09c4","./de-ch":"89a2","./de-ch.js":"89a2","./de.js":"5f10","./dv":"e662","./dv.js":"e662","./el":"196b","./el.js":"196b","./en-SG":"0a32","./en-SG.js":"0a32","./en-au":"94ed","./en-au.js":"94ed","./en-ca":"2806","./en-ca.js":"2806","./en-gb":"b0dd","./en-gb.js":"b0dd","./en-ie":"7a6e","./en-ie.js":"7a6e","./en-il":"1f0f","./en-il.js":"1f0f","./en-nz":"1606","./en-nz.js":"1606","./eo":"f214","./eo.js":"f214","./es":"7d58","./es-do":"737b","./es-do.js":"737b","./es-us":"a894","./es-us.js":"a894","./es.js":"7d58","./et":"a888","./et.js":"a888","./eu":"1357","./eu.js":"1357","./fa":"0a48","./fa.js":"0a48","./fi":"c2b1","./fi.js":"c2b1","./fo":"52c4","./fo.js":"52c4","./fr":"04e6","./fr-ca":"6ad1","./fr-ca.js":"6ad1","./fr-ch":"b12f","./fr-ch.js":"b12f","./fr.js":"04e6","./fy":"ad13","./fy.js":"ad13","./ga":"369e","./ga.js":"369e","./gd":"22de","./gd.js":"22de","./gl":"f808","./gl.js":"f808","./gom-latn":"50d5","./gom-latn.js":"50d5","./gu":"e67a","./gu.js":"e67a","./he":"037c","./he.js":"037c","./hi":"3d53","./hi.js":"3d53","./hr":"678b","./hr.js":"678b","./hu":"1783","./hu.js":"1783","./hy-am":"2873","./hy-am.js":"2873","./id":"de99","./id.js":"de99","./is":"6aa2","./is.js":"6aa2","./it":"1f93","./it-ch":"2db9","./it-ch.js":"2db9","./it.js":"1f93","./ja":"6bf8","./ja.js":"6bf8","./jv":"6e55","./jv.js":"6e55","./ka":"e65f","./ka.js":"e65f","./kk":"7167","./kk.js":"7167","./km":"4668","./km.js":"4668","./kn":"e3d2","./kn.js":"e3d2","./ko":"b058","./ko.js":"b058","./ku":"017e","./ku.js":"017e","./ky":"b2bd","./ky.js":"b2bd","./lb":"e50c","./lb.js":"e50c","./lo":"ca14","./lo.js":"ca14","./lt":"3e84","./lt.js":"3e84","./lv":"ce1d","./lv.js":"ce1d","./me":"9d38","./me.js":"9d38","./mi":"3e2e","./mi.js":"3e2e","./mk":"d532","./mk.js":"d532","./ml":"db61","./ml.js":"db61","./mn":"7493","./mn.js":"7493","./mr":"52d8","./mr.js":"52d8","./ms":"b559","./ms-my":"7462","./ms-my.js":"7462","./ms.js":"b559","./mt":"c055","./mt.js":"c055","./my":"49e0","./my.js":"49e0","./nb":"eb1c","./nb.js":"eb1c","./ne":"0acb","./ne.js":"0acb","./nl":"7497","./nl-be":"3114","./nl-be.js":"3114","./nl.js":"7497","./nn":"9a9c","./nn.js":"9a9c","./pa-in":"c595","./pa-in.js":"c595","./pl":"801c","./pl.js":"801c","./pt":"5b08","./pt-br":"155f","./pt-br.js":"155f","./pt.js":"5b08","./ro":"05fc","./ro.js":"05fc","./ru":"90b3","./ru.js":"90b3","./sd":"99bf","./sd.js":"99bf","./se":"20d6","./se.js":"20d6","./si":"7c0b","./si.js":"7c0b","./sk":"90fc","./sk.js":"90fc","./sl":"871b","./sl.js":"871b","./sq":"b045","./sq.js":"b045","./sr":"ac81","./sr-cyrl":"a2d0","./sr-cyrl.js":"a2d0","./sr.js":"ac81","./ss":"b093","./ss.js":"b093","./sv":"12e5","./sv.js":"12e5","./sw":"38a0","./sw.js":"38a0","./ta":"a462","./ta.js":"a462","./te":"18cb","./te.js":"18cb","./tet":"0c11","./tet.js":"0c11","./tg":"d707","./tg.js":"d707","./th":"883f","./th.js":"883f","./tl-ph":"6cc0","./tl-ph.js":"6cc0","./tlh":"ab53","./tlh.js":"ab53","./tr":"e523","./tr.js":"e523","./tzl":"b192","./tzl.js":"b192","./tzm":"5604","./tzm-latn":"9f95","./tzm-latn.js":"9f95","./tzm.js":"5604","./ug-cn":"9f4f","./ug-cn.js":"9f4f","./uk":"8bd6","./uk.js":"8bd6","./ur":"9a78","./ur.js":"9a78","./uz":"4d4c","./uz-latn":"da73","./uz-latn.js":"da73","./uz.js":"4d4c","./vi":"b766","./vi.js":"b766","./x-pseudo":"2a69","./x-pseudo.js":"2a69","./yo":"fd2e","./yo.js":"fd2e","./zh-cn":"35d0","./zh-cn.js":"35d0","./zh-hk":"7b45","./zh-hk.js":"7b45","./zh-tw":"fa66","./zh-tw.js":"fa66"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id="77d2"},"90f5":function(e,t,n){},a18c:function(e,t,n){"use strict";n("d3b7");var a=n("2b0e"),r=n("8c4f");a["a"].use(r["a"]);var c=[{path:"/",component:function(){return n.e("chunk-2d0f0860").then(n.bind(null,"9d76"))},children:[{path:"",name:"",component:function(){return n.e("chunk-16963b6e").then(n.bind(null,"7abe"))}},{path:"qa",name:"qa",component:function(){return n.e("chunk-2d217eac").then(n.bind(null,"c988"))}},{path:"video",name:"video",component:function(){return n.e("chunk-2d0a2e01").then(n.bind(null,"007b"))}},{path:"user",name:"user",component:function(){return n.e("chunk-464ca0c2").then(n.bind(null,"e382"))}}]},{path:"/login",name:"login",component:function(){return n.e("chunk-84d5dbfc").then(n.bind(null,"9ed6"))}},{path:"/search",name:"search",component:function(){return n.e("chunk-c2c9f1d6").then(n.bind(null,"efe3"))}},{path:"/user/chat",name:"userChat",component:function(){return n.e("chunk-6fd440ff").then(n.bind(null,"6f29"))},props:!0},{path:"/article/:id",name:"article",component:function(){return n.e("chunk-a52d43aa").then(n.bind(null,"230c"))},props:!0},{path:"/user/profile",name:"userProfile",component:function(){return n.e("chunk-0713d968").then(n.bind(null,"524b"))}},{path:"/my-article/:type?",name:"userArticles",component:function(){return n.e("chunk-4484aa65").then(n.bind(null,"97ad"))},props:!0}],s=new r["a"]({routes:c});t["a"]=s},a4b1:function(e,t,n){},b775:function(e,t,n){"use strict";n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b");var a=n("ade3"),r=(n("96cf"),n("1da1")),c=n("82ae"),s=n.n(c),o=n("de9a"),i=n.n(o),u=n("4360"),l=n("a18c");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=s.a.create({baseURL:"http://ttapi.research.itcast.cn/"});function m(){l["a"].push({name:"login",query:{redirect:l["a"].currentRoute.fullpath}})}p.defaults.transformResponse=[function(e){try{return i.a.parse(e)}catch(t){return console.log("转换失败",t),{}}}],p.interceptors.request.use((function(e){var t=u["a"].state.user;return t&&(e.headers.Authorization="Bearer ".concat(t.token)),e}),(function(e){return Promise.reject(e)})),p.interceptors.response.use((function(e){return e}),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.response||401!==t.response.status){e.next=18;break}if(n=u["a"].state.user,n&&n.refresh_token){e.next=5;break}return m(),e.abrupt("return");case 5:return e.prev=5,e.next=8,s()({method:"put",url:"http://ttapi.research.itcast.cn/app/v1_0/authorizations",headers:{Authorization:"Bearer ".concat(n.refresh_token)}});case 8:return a=e.sent,r=a.data,u["a"].commit("setUser",f({},n,{token:r.data.token})),e.abrupt("return",p(t.config));case 14:e.prev=14,e.t0=e["catch"](5),console.log(e.t0,"刷新token失败"),m();case 18:return e.abrupt("return",Promise.reject(t));case 19:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}()),t["a"]=p},bb5c:function(e,t,n){"use strict";var a=n("90f5"),r=n.n(a);r.a},cb9c:function(e,t,n){"use strict";var a=n("ea4f"),r=n.n(a);r.a},ea4f:function(e,t,n){}});
//# sourceMappingURL=app.954899a5.js.map